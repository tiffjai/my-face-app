(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5699)}])},5699:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return pages}});var t=r(5893),s=r(9942),l=r(202),n=r(7294),i=r(7066),d=r(8858);let createApi=()=>{let e=(0,d.D)({mutationFn:async e=>{let a=await i.Z.post("".concat("https://my-face-app.onrender.com","/api/modify-face"),e);return a.data}});return{modifyFace:e}};var o=r(512),c=r(8388);function cn(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,c.m6)((0,o.W)(a))}let m=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});m.displayName="Card";let u=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:cn("flex flex-col space-y-1.5 p-6",r),...s})});u.displayName="CardHeader";let x=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("h3",{ref:a,className:cn("text-2xl font-semibold leading-none tracking-tight",r),...s})});x.displayName="CardTitle";let f=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("p",{ref:a,className:cn("text-sm text-muted-foreground",r),...s})});f.displayName="CardDescription";let h=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:cn("p-6 pt-0",r),...s})});h.displayName="CardContent";let g=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:cn("flex items-center p-6 pt-0",r),...s})});g.displayName="CardFooter";var p=r(2003);let v=(0,p.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),j=n.forwardRef((e,a)=>{let{className:r,variant:s,...l}=e;return(0,t.jsx)("div",{ref:a,role:"alert",className:cn(v({variant:s}),r),...l})});j.displayName="Alert";let y=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("h5",{ref:a,className:cn("mb-1 font-medium leading-none tracking-tight",r),...s})});y.displayName="AlertTitle";let b=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:cn("text-sm [&_p]:leading-relaxed",r),...s})});b.displayName="AlertDescription";var N=r(7483);let w=n.forwardRef((e,a)=>{let{className:r,value:s,...l}=e;return(0,t.jsx)(N.fC,{ref:a,className:cn("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...l,children:(0,t.jsx)(N.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});w.displayName=N.fC.displayName;let k=n.forwardRef((e,a)=>{let{className:r,type:s,...l}=e;return(0,t.jsx)("input",{type:s,className:cn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...l})});k.displayName="Input";var C=r(8426);let S=(0,p.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),z=n.forwardRef((e,a)=>{let{className:r,variant:s,size:l,asChild:n=!1,...i}=e,d=n?C.g7:"button";return(0,t.jsx)(d,{className:cn(S({variant:s,size:l,className:r})),ref:a,...i})});z.displayName="Button";var components_UploadImage=e=>{let{setImage:a}=e,[r,s]=(0,n.useState)(null),[l,i]=(0,n.useState)(null),[d,o]=(0,n.useState)(!1),[c,g]=(0,n.useState)(null),{modifyFace:p}=createApi(),handleImageChange=async e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(!t)return;let l=new FileReader;l.onload=async e=>{var r;if(null===(r=e.target)||void 0===r?void 0:r.result){let r=e.target.result;s(r),a(r);try{o(!0),g(null);let e=await p.mutateAsync({image:r,eyeSize:1,faceSize:1});i(e)}catch(e){g(e.message||"An error occurred")}finally{o(!1)}}},l.readAsDataURL(t)};return(0,t.jsxs)(m,{className:"bg-white/80 backdrop-blur-sm hover:shadow-lg transition-shadow duration-300 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[(0,t.jsxs)(u,{children:[(0,t.jsx)(x,{children:"Upload Portrait"}),(0,t.jsx)(f,{children:"Select an image to begin the transformation"})]}),(0,t.jsxs)(h,{children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-32 cursor-pointer group",children:[(0,t.jsx)(k,{type:"file",onChange:handleImageChange,accept:"image/*",className:"hidden",id:"image-upload"}),(0,t.jsxs)("label",{htmlFor:"image-upload",className:"w-full h-full border-2 border-dashed rounded-lg flex flex-col items-center justify-center bg-background hover:bg-accent/5 transition-colors duration-300 cursor-pointer",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-muted-foreground mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Drag and drop your image here or"}),(0,t.jsx)(z,{variant:"secondary",size:"sm",className:"text-xs",children:"Choose File"})]})]})}),r&&(0,t.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Original"}),(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden bg-accent/20 h-[300px]",children:(0,t.jsx)("img",{src:r,alt:"Original Image",className:"w-full h-full object-contain"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Modified"}),l?(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden bg-accent/20 h-[300px]",children:(0,t.jsx)("img",{src:l,alt:"Modified Image",className:"w-full h-full object-contain rounded-lg"})}):"No face detected"===c?(0,t.jsx)(j,{variant:"destructive",children:(0,t.jsx)(b,{children:"No face detected in the image"})}):d?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[200px] bg-accent/20 rounded-lg space-y-4",children:[(0,t.jsx)(w,{value:33,className:"w-[60%]"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Processing..."})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-accent/20 rounded-lg",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Upload an image to see the magic"})})]})]}),c&&"No face detected"!==c&&(0,t.jsx)(j,{variant:"destructive",className:"mt-4",children:(0,t.jsx)(b,{children:c})})]})]})]})},_=r(6680);let R=n.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsxs)(_.fC,{ref:a,className:cn("relative flex w-full touch-none select-none items-center",r),...s,children:[(0,t.jsx)(_.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,t.jsx)(_.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(_.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});R.displayName=_.fC.displayName;var components_ImageModifier=e=>{let{image:a}=e,[r,s]=(0,n.useState)(1),[l,d]=(0,n.useState)(1),[o,c]=(0,n.useState)(null),[g,p]=(0,n.useState)(null),[v,y]=(0,n.useState)(!1),modifyImage=async(e,r)=>{y(!0),p(null);try{let t=await i.Z.post("/api/modify-face",{image:a,eyeSize:e,faceSize:r});c(t.data)}catch(e){var t,s;console.error("Error modifying image:",e),p((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to modify image"),c(null)}finally{y(!1)}},handleEyeSizeChange=async e=>{let a=Number(e.target.value);s(a),await modifyImage(a,l)},handleFaceSizeChange=async e=>{let a=Number(e.target.value);d(a),await modifyImage(r,a)};return(0,t.jsxs)(m,{className:"w-full max-w-3xl mx-auto bg-white/80 backdrop-blur-sm max-h-[calc(100vh-2rem)] overflow-y-auto",children:[(0,t.jsxs)(u,{children:[(0,t.jsx)(x,{children:"Adjust Features"}),(0,t.jsx)(f,{children:"Fine-tune facial features with precision"})]}),(0,t.jsxs)(h,{className:"space-y-8",children:[(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"Eye Size"})]}),(0,t.jsxs)("span",{className:"text-sm bg-accent/20 px-2 py-1 rounded-full tabular-nums",children:[r.toFixed(1),"x"]})]}),(0,t.jsx)(R,{min:.5,max:2,step:.1,value:[r],onValueChange:e=>{let[a]=e;return handleEyeSizeChange({target:{value:a}})},className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Smaller"}),(0,t.jsx)("span",{children:"Larger"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"Face Size"})]}),(0,t.jsxs)("span",{className:"text-sm bg-accent/20 px-2 py-1 rounded-full tabular-nums",children:[l.toFixed(1),"x"]})]}),(0,t.jsx)(R,{min:.5,max:2,step:.1,value:[l],onValueChange:e=>{let[a]=e;return handleFaceSizeChange({target:{value:a}})},className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Smaller"}),(0,t.jsx)("span",{children:"Larger"})]})]})]})}),(0,t.jsxs)("div",{className:"pt-6 border-t space-y-4",children:[v&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[(0,t.jsx)(w,{value:33,className:"w-[60%]"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Processing changes..."})]}),g&&(0,t.jsx)(j,{variant:"destructive",children:(0,t.jsx)(b,{children:g})}),o&&!v&&(0,t.jsx)("div",{className:"rounded-lg overflow-hidden bg-accent/20 h-[300px]",children:(0,t.jsx)("img",{src:o,alt:"Modified",className:"w-full h-full object-contain"})})]})]})]})};let F=new s.S;var pages=()=>{let[e,a]=(0,n.useState)(null);return(0,t.jsx)(l.aH,{client:F,children:(0,t.jsx)("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-accent via-background to-accent/50",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8 h-full overflow-y-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-16",children:[(0,t.jsxs)("h1",{className:"text-4xl md:text-5xl font-light tracking-tight text-primary mb-6",children:["Face ",(0,t.jsx)("span",{className:"font-normal bg-clip-text text-transparent bg-gradient-to-r from-primary via-primary/80 to-primary",children:"Modifier"})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed",children:"Transform your portraits with precision and elegance. Experience professional-grade facial modifications powered by advanced AI."})]}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)(components_UploadImage,{setImage:a}),e&&(0,t.jsx)("div",{className:"transition-all duration-700 ease-in-out transform",children:(0,t.jsx)(components_ImageModifier,{image:e})})]})]})})})}}},function(e){e.O(0,[14,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);